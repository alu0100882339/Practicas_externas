<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script  src="//d3js.org/d3.v4.min.js"></script>
    <title>D3 Tutorial</title>
</head>
<body>
    <p> Prueba de select</p>
    <script>
        /*d3.select("p")
            .text("Hello World"); //Selecionar el elemento p y cambia el texto
        
        d3.select("body") //Selecciona el elemento body
            .append("p") // Le añade un párrafo
            .style("color", "red") //Cambia el color
            .text("Añadiendo un párrafo al body"); //Le añade texto
        
        */
         /*    var circle = canvas.append("circle")
                        .attr("cx", 250)
                        .attr("cy", 250)
                        .attr("r", 50)
                        .attr("fill", "red");
                        
        var rect = canvas.append("rect")
                    .attr("width", 100)
                    .attr("height", 50);
        
        var line = canvas.append("line")
                    .attr("x1", 0)
                    .attr("y1", 100)
                    .attr("x2", 300)
                    .attr("y2", 400)
                    .attr("stroke", "green")
                    .attr("stroke-width", 10); */
        
        var width = 500;
        var height = 500;
        
        var widthScale = d3.scaleLinear()  //Devuelve el valor dentro de la escala
                        .domain([0, 60])  //el menor y mayor valor en nuestros datos
                        .range([0, width]); //el rango que va tener nuestro gráfico
        
        var axis = d3.axisBottom(widthScale)
                        .ticks(5);
                   
                    
        var canvas = d3.select("body")
                    .append("svg")
                    .attr("width", width)
                    .attr("height", height)
                    .append("g") //grupo -> nos permite hacer cambios al grupo entero de elementos
                    .attr("transform", "translate(20, 0)") //mueve todo el grupo 
                   
                    
   
                    
        //Visualización de datos
        
        var dataArray = [20, 40, 50, 60];
        
        
        
        var color = d3.scaleLinear()
                    .domain([0, 60])
                    .range(["red", "blue"]);
                    
     
        
        var bars = canvas.selectAll("rect") //Selecciona todos los elementos rect, como no hay ninguno creado, devuelve un array vacío
                    .data(dataArray) // Añadimos los datos
                    .enter() //por cada elemento en data
                        .append("rect") // se crea un rectágulo con los atributos siguientes
                        .attr("width", function(data) { return widthScale(data);})
                        .attr("height", 50)
                        .attr("fill", function(data) {return color(data);})
                        .attr("y", function(data, index) { return index * 100;}); //Distancia entre los rectángulos
                        
        canvas.append("g")
                .attr("transform", "translate(0, 400)")
                .call(axis);
    </script>
</body>
</html>